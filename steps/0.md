# Phase 0: 準備フェーズ タスクリスト

## 目標
仕様書に記載の通り、準備フェーズでは以下を実現します：
- リポジトリ雛形の作成
- JSON Schema 雛形の作成

## 1. リポジトリ雛形作成

### モノレポ構造の設定
- [ ] リポジトリのルートディレクトリ構造を作成
  - apps/web/
  - packages/core-wasm/
  - packages/schemas/
  - sample/
  - scripts/
  - docs/

### パッケージ設定
- [ ] ルートの package.json 作成
  - name: yaml-note-mvp の指定
  - scripts セクションに dev, build, test, lint コマンドを設定
- [ ] pnpm-workspace.yaml を作成
  - apps/* と packages/* をワークスペースとして登録

### Web アプリケーション初期設定
- [ ] apps/web の package.json 作成
  - React, Vite, TypeScript, Tailwind CSS の依存関係設定
  - CodeMirror (YAML) の依存関係設定
  - 必要な開発依存関係の設定（ESLint, TypeScript など）
- [ ] Vite 設定ファイル (vite.config.ts) の作成
  - React プラグインの設定
  - WASM プラグインの設定
- [ ] 最小限の React アプリケーション構造の作成
  - index.html
  - src/index.tsx
  - src/App.tsx
  - Tailwind CSS の初期設定

### Rust/WASM コア設定
- [ ] ルートの Cargo.toml 作成
  - packages/core-wasm をワークスペースメンバーとして登録
- [ ] packages/core-wasm/Cargo.toml 作成
  - serde_yaml, jsonschema-rs などの依存関係設定
  - wasm-bindgen の設定
- [ ] 基本的な lib.rs 実装
  - MVP に必要な最低限の関数を定義
- [ ] validate.rs の基本実装
  - YAML 検証用の基本関数を実装
- [ ] ビルドスクリプト (build.sh) の作成
  - wasm-pack で WASM にビルドするコマンド設定

## 2. JSON Schema 雛形作成

### スキーマ定義
- [ ] packages/schemas/note.schema.yaml の作成
  - id, title, content などのフィールド定義
  - 必須フィールドの指定
  - 型の定義
- [ ] packages/schemas/project.schema.yaml の作成
  - 基本的なプロジェクト構造を定義

### サンプルデータ
- [ ] sample/note.yaml の作成
  - スキーマに準拠したサンプルノートデータを作成
  - バリデーションで検証できる内容にする

## 3. 動作確認

### リポジトリ雛形の確認
- [ ] pnpm install で依存関係をインストール
- [ ] pnpm dev で空の画面が表示されることを確認
- [ ] cargo check -p core-wasm がエラーなく通ることを確認

### JSON Schema 雛形の確認
- [ ] npx ajv-cli validate -s packages/schemas/note.schema.yaml -d sample/note.yaml を実行
- [ ] 0 errors の結果を確認

## 完了条件
- [ ] CLI 検証コマンドがすべて成功すること
  - pnpm dev → 空画面表示
  - cargo check -p core-wasm → OK
  - npx ajv-cli validate → 0 errors
- [ ] 仕様書に記載の「Phase 0」の deliverables が揃っていること
  - /package.json
  - /Cargo.toml
  - /pnpm-workspace.yaml
  - note.schema.yaml