# S4: Schema ã‚¿ãƒ– & ç´«ãƒãƒƒã‚¸ - è©³ç´°è¨­è¨ˆã¨æ‰‹é †æ›¸

## 1. Whyï¼ˆç›®çš„ï¼‰

S4ãƒ•ã‚§ãƒ¼ã‚ºã§ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«Schemaç·¨é›†ã‚¿ãƒ–ã‚’è¿½åŠ ã—ã€JSONã‚¹ã‚­ãƒ¼ãƒè‡ªä½“ã®ç·¨é›†ãƒ»ä¿å­˜æ©Ÿèƒ½ã¨æ§‹æ–‡ã‚¨ãƒ©ãƒ¼æ¤œå‡ºæ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯Markdownãƒãƒ¼ãƒˆã¨ãã‚Œã«é–¢é€£ã™ã‚‹ã‚¹ã‚­ãƒ¼ãƒã‚’åŒä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å†…ã§ç·¨é›†ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã®ä¸»ãªç›®çš„ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

1. **ã‚¹ã‚­ãƒ¼ãƒYAMLã®ç›´æ¥ç·¨é›†ã¨ä¿å­˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã‚’ç›´æ¥ç·¨é›†ã—å³æ™‚ä¿å­˜ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
2. **ã‚¹ã‚­ãƒ¼ãƒã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼æ¤œå‡º**: ã‚¹ã‚­ãƒ¼ãƒè‡ªä½“ã®æ§‹æ–‡ãƒ»è«–ç†ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã—ã€**ç´«è‰²ã®ãƒãƒƒã‚¸**ã§è¡¨ç¤ºã™ã‚‹
3. **ã‚¿ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å°å…¥**: Note.mdã¨Schema.yamlã‚’åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ãªã‚¿ãƒ–UIã‚’æä¾›ã™ã‚‹

S4å®Œäº†æ™‚ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯Markdownãƒãƒ¼ãƒˆã®ç·¨é›†ã«åŠ ãˆã¦ã€ãã®ãƒãƒ¼ãƒˆã‚’æ¤œè¨¼ã™ã‚‹ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ç·¨é›†ãƒ»æ¤œè¨¼ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€ã‚ˆã‚Šçµ±åˆçš„ãªç·¨é›†ä½“é¨“ã‚’å®Ÿç¾ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€Œã‚¹ã‚­ãƒ¼ãƒé§†å‹•ãƒãƒ¼ãƒˆã€ã¨ã„ã†ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’ã•ã‚‰ã«å¼·åŒ–ã—ã€ã‚¹ã‚­ãƒ¼ãƒã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ç·Šå¯†ãªçµåˆã‚’ä¿ƒé€²ã—ã¾ã™ã€‚

## 2. Whatï¼ˆè¦ä»¶ï¼‰

1. **ã‚¿ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**
   - Markdownï¼ˆNoteï¼‰ã‚¿ãƒ–ã¨Schemaï¼ˆYAMLï¼‰ã‚¿ãƒ–ã®2ã¤ã®ã‚¿ãƒ–ã‚’æä¾›
   - ç¾åœ¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¿ãƒ–ã‚’è¦–è¦šçš„ã«è¡¨ç¤º
   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆï¼ˆä¾‹ï¼šAlt+1, Alt+2ï¼‰ã§ã®ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ

2. **Schemaç·¨é›†æ©Ÿèƒ½**
   - ã‚¹ã‚­ãƒ¼ãƒã‚’YAMLå½¢å¼ã§ç·¨é›†å¯èƒ½ãªã‚¨ãƒ‡ã‚£ã‚¿ã‚’æä¾›
   - CodeMirrorã®YAMLã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’é©ç”¨
   - ç·¨é›†ä¸­ã®ã‚¹ã‚­ãƒ¼ãƒã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ä¿å­˜ï¼ˆCtrl+Sï¼‰

3. **ã‚¹ã‚­ãƒ¼ãƒæ§‹æ–‡æ¤œè¨¼**
   - ã‚¹ã‚­ãƒ¼ãƒYAMLã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡º
   - JSONã‚¹ã‚­ãƒ¼ãƒã¨ã—ã¦ã®è«–ç†ã‚¨ãƒ©ãƒ¼ï¼ˆç„¡åŠ¹ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã©ï¼‰ã‚’æ¤œå‡º
   - ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹å ´åˆã€ç´«è‰²ã®ãƒãƒƒã‚¸ã§è¡¨ç¤º
   - ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿè¡Œãƒ»ç®‡æ‰€ã«ã‚¸ãƒ£ãƒ³ãƒ—æ©Ÿèƒ½

4. **ä¿å­˜ç®¡ç†**
   - ç¾åœ¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¿ãƒ–ã®å†…å®¹ã®ã¿ã‚’ä¿å­˜
   - Noteã‚¿ãƒ–ã§ã¯.mdãƒ•ã‚¡ã‚¤ãƒ«ã€Schemaã‚¿ãƒ–ã§ã¯.schema.yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜
   - æœªä¿å­˜å¤‰æ›´ãŒã‚ã‚‹å ´åˆã®è¦–è¦šçš„ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿

5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶**
   - ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã¯100msä»¥å†…ã«å®Œäº†
   - ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ç¬æ™‚ï¼ˆä½“æ„Ÿé…å»¶ãªã—ï¼‰

## 3. Howï¼ˆè©³ç´°è¨­è¨ˆï¼‰

### 3.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EditorTabs   â”‚â”€â”€ Context â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  MarkdownEditor  â”‚â—„â”€â”¼â”€â–ºâ”‚   SchemaEditor  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–²          â”‚         â–²
                   â”‚          â”‚         â”‚
                   â–¼          â”‚         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ValidationBannerâ”‚â—„â”˜          â””â–ºâ”‚ SchemaValidator â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²                                â–²
         â”‚                                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   WASM core   â”‚â—„â”€â”€â”€â”€â–ºâ”‚ Logger â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

#### 3.2.1 EditorTabs.tsxï¼ˆæ–°è¦ä½œæˆï¼‰

```typescript
/**
 * ã‚¨ãƒ‡ã‚£ã‚¿ã‚¿ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 * @component
 * @description
 * Noteï¼ˆMarkdownï¼‰ã¨Schemaï¼ˆYAMLï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚¿ãƒ–UIã‚’æä¾›ã™ã‚‹ã€‚
 * ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã®çŠ¶æ…‹ã‚’ç®¡ç†ã—ã€é©åˆ‡ãªã‚¨ãƒ‡ã‚£ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ã€‚
 */
import React, { useState, useCallback } from "react";

type TabType = "note" | "schema";

interface EditorTabsProps {
  currentSchemaPath: string | null;
  onTabChange: (tab: TabType) => void;
}

export const EditorTabs: React.FC<EditorTabsProps> = ({ 
  currentSchemaPath, 
  onTabChange 
}) => {
  const [activeTab, setActiveTab] = useState<TabType>("note");

  const handleTabClick = useCallback((tab: TabType) => {
    setActiveTab(tab);
    onTabChange(tab);
  }, [onTabChange]);

  return (
    <div className="border-b border-gray-200">
      <ul className="flex">
        <li className="mr-1">
          <button
            className={`py-2 px-4 ${
              activeTab === "note"
                ? "bg-white border-b-2 border-blue-500 font-medium"
                : "bg-gray-100 hover:bg-gray-200"
            }`}
            onClick={() => handleTabClick("note")}
          >
            Note.md
          </button>
        </li>
        <li>
          <button
            className={`py-2 px-4 ${
              activeTab === "schema"
                ? "bg-white border-b-2 border-blue-500 font-medium"
                : "bg-gray-100 hover:bg-gray-200"
            } ${!currentSchemaPath ? "opacity-50 cursor-not-allowed" : ""}`}
            onClick={() => currentSchemaPath && handleTabClick("schema")}
            disabled={!currentSchemaPath}
            title={!currentSchemaPath ? "ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“" : ""}
          >
            Schema.yaml {!currentSchemaPath && "(æœªè¨­å®š)"}
          </button>
        </li>
      </ul>
    </div>
  );
};
```

#### 3.2.2 SchemaEditor.tsxï¼ˆæ–°è¦ä½œæˆï¼‰

```typescript
/**
 * ã‚¹ã‚­ãƒ¼ãƒã‚¨ãƒ‡ã‚£ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 * @component
 * @description
 * YAMLã‚¹ã‚­ãƒ¼ãƒã‚’ç·¨é›†ã™ã‚‹ãŸã‚ã®CodeMirrorãƒ™ãƒ¼ã‚¹ã®ã‚¨ãƒ‡ã‚£ã‚¿ã€‚
 * ã‚¹ã‚­ãƒ¼ãƒã®æ§‹æ–‡æ¤œè¨¼ã¨ä¿å­˜æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€‚
 */
import React, { useEffect, useState } from "react";
import { useYamlCore } from "../hooks/useYamlCore";
import { ValidationError } from "../hooks/validation-error.type";
import { ErrorBadge } from "./ErrorBadge";

interface SchemaEditorProps {
  schemaPath: string;
  initialSchema: string;
  onSave: (content: string) => void;
  active: boolean;
}

export const SchemaEditor: React.FC<SchemaEditorProps> = ({
  schemaPath,
  initialSchema,
  onSave,
  active,
}) => {
  const [content, setContent] = useState(initialSchema);
  const [errors, setErrors] = useState<ValidationError[]>([]);
  const { wasmLoaded, compileSchema } = useYamlCore();
  const [isDirty, setIsDirty] = useState(false);

  // ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
  useEffect(() => {
    if (!wasmLoaded || !active) return;

    const validateSchema = async () => {
      try {
        const validationErrors = await compileSchema(content);
        setErrors(validationErrors);
      } catch (error) {
        console.error("Schema validation error:", error);
        setErrors([
          {
            line: 0,
            message: `ã‚¹ã‚­ãƒ¼ãƒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼: ${error instanceof Error ? error.message : String(error)}`,
            path: "",
          },
        ]);
      }
    };

    // 30msã®ãƒ‡ãƒã‚¦ãƒ³ã‚¹
    const timerId = setTimeout(() => {
      validateSchema();
    }, 30);

    return () => clearTimeout(timerId);
  }, [content, wasmLoaded, compileSchema, active]);

  // ä¿å­˜å‡¦ç†
  const handleSave = () => {
    onSave(content);
    setIsDirty(false);
  };

  // ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚­ãƒ¼å‡¦ç†
  useEffect(() => {
    if (!active) return;

    const handleKeyDown = (e: KeyboardEvent) => {
      if ((e.ctrlKey || e.metaKey) && e.key === "s") {
        e.preventDefault();
        handleSave();
      }
    };

    window.addEventListener("keydown", handleKeyDown);
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [active, content]);

  // ã‚¨ãƒ‡ã‚£ã‚¿å¤‰æ›´ãƒãƒ³ãƒ‰ãƒ©
  const handleChange = (value: string) => {
    setContent(value);
    setIsDirty(true);
  };

  if (!active) return null;

  return (
    <div className="w-full h-full flex flex-col">
      <div className="flex justify-between items-center p-2 bg-gray-100">
        <span className="text-sm text-gray-700">{schemaPath}</span>
        <button
          className={`px-3 py-1 rounded text-sm ${
            isDirty
              ? "bg-blue-500 text-white"
              : "bg-gray-300 text-gray-700"
          }`}
          onClick={handleSave}
          disabled={!isDirty}
        >
          ä¿å­˜ {isDirty && "*"}
        </button>
      </div>

      {/* CodeMirror ã‚¨ãƒ‡ã‚£ã‚¿å®Ÿè£… */}
      <div className="flex-grow relative">
        {/* CodeMirrorå®Ÿè£…ã¯çœç•¥ - æ—¢å­˜ã®MarkdownEditorã®YAMLç‰ˆã¨ã—ã¦å®Ÿè£… */}
      </div>

      {/* ã‚¨ãƒ©ãƒ¼è¡¨ç¤º */}
      {errors.length > 0 && (
        <ErrorBadge
          errors={errors}
          type="schema"
          onErrorClick={(line) => {
            // ã‚¨ãƒ‡ã‚£ã‚¿ã®è©²å½“è¡Œã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹å‡¦ç†
          }}
        />
      )}
    </div>
  );
};
```

#### 3.2.3 useYamlCore.ts æ‹¡å¼µ

```typescript
/**
 * ã‚¹ã‚­ãƒ¼ãƒã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ¤œè¨¼ã‚’è¡Œã†
 * @param {string} schemaYaml - æ¤œè¨¼ã™ã‚‹ã‚¹ã‚­ãƒ¼ãƒYAML
 * @returns {Promise<ValidationError[]>} æ¤œè¨¼ã‚¨ãƒ©ãƒ¼ã®é…åˆ—
 * @description
 * ã‚¹ã‚­ãƒ¼ãƒYAMLã®æ§‹æ–‡ã¨JSONã‚¹ã‚­ãƒ¼ãƒã¨ã—ã¦ã®è«–ç†çš„æ­£å½“æ€§ã‚’æ¤œè¨¼ã™ã‚‹ã€‚
 * WASMã‚³ã‚¢ã®`compile_schema`é–¢æ•°ã‚’ä½¿ç”¨ã€‚
 */
const compileSchema = useCallback(
  async (schemaYaml: string): Promise<ValidationError[]> => {
    if (!instance || !wasmLoaded) {
      throw new Error("WASM module not loaded");
    }

    try {
      const resultJson = instance.compile_schema(schemaYaml);
      const result = JSON.parse(resultJson);

      if (!result.success) {
        return result.errors.map((err: any) => ({
          line: err.line || 0,
          message: `ã‚¹ã‚­ãƒ¼ãƒæ§‹æ–‡ã‚¨ãƒ©ãƒ¼: ${err.message}`,
          path: err.path || "",
        }));
      }

      return [];
    } catch (error) {
      console.error("Schema compilation error:", error);
      throw error;
    }
  },
  [instance, wasmLoaded],
);

// å…¬é–‹ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãƒªã‚¹ãƒˆã«æ–°ã—ã„é–¢æ•°ã‚’è¿½åŠ 
return {
  // æ—¢å­˜ã®ãƒ¡ã‚½ãƒƒãƒ‰
  wasmLoaded,
  wasmLoading,
  error,
  validateYaml,
  validateFrontmatter,
  markdownToYaml,
  validateYamlWithSchema,
  // æ–°è¦è¿½åŠ 
  compileSchema,
};
```

#### 3.2.4 App.tsxï¼ˆå¤‰æ›´ï¼‰

```typescript
/**
 * ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
 * @component
 * @description
 * ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚
 * ã‚¿ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¨ã‚¨ãƒ‡ã‚£ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ±åˆã™ã‚‹ã€‚
 */

// çŠ¶æ…‹ç®¡ç†ã®è¿½åŠ 
const [activeTab, setActiveTab] = useState<"note" | "schema">("note");
const [schemaContent, setSchemaContent] = useState<string>("");
const [schemaPath, setSchemaPath] = useState<string | null>(null);

// ã‚¹ã‚­ãƒ¼ãƒãƒ­ãƒ¼ãƒ‰é–¢æ•°
const loadSchema = useCallback(async (path: string) => {
  try {
    const schema = await fetchSchema(path);
    setSchemaContent(schema);
    setSchemaPath(path);
  } catch (error) {
    console.error("Failed to load schema:", error);
    // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  }
}, []);

// useValidator ã‹ã‚‰ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ã‚’å–å¾—ã—ã¦è‡ªå‹•ãƒ­ãƒ¼ãƒ‰
useEffect(() => {
  if (validatorSchemaPath && validatorSchemaPath !== schemaPath) {
    loadSchema(validatorSchemaPath);
  }
}, [validatorSchemaPath, loadSchema, schemaPath]);

// ä¿å­˜ãƒãƒ³ãƒ‰ãƒ©
const handleSave = useCallback((content: string) => {
  if (activeTab === "note") {
    // Markdownãƒãƒ¼ãƒˆã®ä¿å­˜å‡¦ç†
    saveMarkdown(content);
  } else if (activeTab === "schema" && schemaPath) {
    // ã‚¹ã‚­ãƒ¼ãƒã®ä¿å­˜å‡¦ç†
    saveSchema(schemaPath, content);
  }
}, [activeTab, schemaPath]);

// ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°éƒ¨åˆ†ã®å¤‰æ›´
return (
  <div className="container mx-auto">
    <EditorTabs
      currentSchemaPath={schemaPath}
      onTabChange={setActiveTab}
    />
    
    {/* Note.md ã‚¿ãƒ– */}
    {activeTab === "note" && (
      <MarkdownEditor
        initialContent={markdownContent}
        onChange={setMarkdownContent}
        onSave={saveMarkdown}
        errors={validationErrors}
      />
    )}
    
    {/* Schema.yaml ã‚¿ãƒ– */}
    {activeTab === "schema" && schemaPath && (
      <SchemaEditor
        schemaPath={schemaPath}
        initialSchema={schemaContent}
        onSave={(content) => saveSchema(schemaPath!, content)}
        active={activeTab === "schema"}
      />
    )}
  </div>
);
```

### 3.3 Rust WASM ã‚³ã‚¢éƒ¨åˆ†ã®è¨­è¨ˆ

#### 3.3.1 schema_compile.rsï¼ˆæ–°è¦ä½œæˆï¼‰

```rust
//! schema_compile.rs
//!
//! JSONã‚¹ã‚­ãƒ¼ãƒã®æ§‹æ–‡/æ„å‘³è«–çš„æ¤œè¨¼æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€‚
//! - YAMLãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®æ¤œå‡º
//! - JSONã‚¹ã‚­ãƒ¼ãƒã¨ã—ã¦ã®æ¤œè¨¼ï¼ˆãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã«å¯¾ã™ã‚‹æ¤œè¨¼ï¼‰

use serde_json::Value;
use serde_yaml;
use jsonschema::{Draft, JSONSchema};
use wasm_bindgen::prelude::*;
use serde::Serialize;

/// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æƒ…å ±
#[derive(Serialize)]
pub struct ValidationError {
    /// ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿè¡Œç•ªå·
    pub line: u32,
    /// ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    pub message: String,
    /// ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç®‡æ‰€ã®ãƒ‘ã‚¹
    pub path: String,
}

/// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœ
#[derive(Serialize)]
pub struct ValidationResult {
    /// æˆåŠŸã—ãŸã‹ã©ã†ã‹
    pub success: bool,
    /// ã‚¨ãƒ©ãƒ¼ãƒªã‚¹ãƒˆ
    pub errors: Vec<ValidationError>,
}

/// ã‚¹ã‚­ãƒ¼ãƒYAMLã‚’æ¤œè¨¼ã™ã‚‹
///
/// # å¼•æ•°
/// * `schema_yaml` - æ¤œè¨¼å¯¾è±¡ã®ã‚¹ã‚­ãƒ¼ãƒYAMLæ–‡å­—åˆ—
///
/// # æˆ»ã‚Šå€¤
/// * JSONå½¢å¼ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœ
#[wasm_bindgen]
pub fn compile_schema(schema_yaml: &str) -> String {
    // çµæœã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
    let mut result = ValidationResult {
        success: true,
        errors: Vec::new(),
    };

    // YAML â†’ JSONãƒ‘ãƒ¼ã‚¹
    let schema_value: Result<Value, serde_yaml::Error> = serde_yaml::from_str(schema_yaml);
    
    match schema_value {
        Ok(schema) => {
            // ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã«å¯¾ã™ã‚‹æ¤œè¨¼
            match validate_against_metaschema(&schema) {
                Ok(_) => {
                    // æ¤œè¨¼æˆåŠŸ
                    result.success = true;
                },
                Err(err) => {
                    // ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã‚¨ãƒ©ãƒ¼
                    result.success = false;
                    result.errors.push(ValidationError {
                        line: 0, // ã‚¨ãƒ©ãƒ¼è¡Œç‰¹å®šãŒå›°é›£ãªãŸã‚ãƒ•ãƒ©ã‚°ã¨ã—ã¦0ã‚’è¨­å®š
                        message: format!("JSONã‚¹ã‚­ãƒ¼ãƒã¨ã—ã¦ç„¡åŠ¹: {}", err),
                        path: "".to_string(),
                    });
                }
            }
        },
        Err(err) => {
            // YAMLãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼
            result.success = false;
            
            // è¡Œç•ªå·ã®å–å¾—ã‚’è©¦ã¿ã‚‹
            let line = match err.location() {
                Some(location) => location.line() as u32,
                None => 0,
            };
            
            result.errors.push(ValidationError {
                line,
                message: format!("ã‚¹ã‚­ãƒ¼ãƒYAMLã®ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼: {}", err),
                path: "".to_string(),
            });
        }
    }

    // çµæœã‚’JSONæ–‡å­—åˆ—ã«ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º
    match serde_json::to_string(&result) {
        Ok(json) => json,
        Err(err) => format!("{{\"success\": false, \"errors\": [{{\"line\": 0, \"message\": \"çµæœã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºã‚¨ãƒ©ãƒ¼: {}\", \"path\": \"\"}}]}}", err),
    }
}

/// JSONã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã§æ¤œè¨¼ã™ã‚‹
fn validate_against_metaschema(schema: &Value) -> Result<(), String> {
    // Draft 7ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨
    let metaschema = serde_json::from_str(include_str!("../schemas/draft-07-schema.json"))
        .map_err(|e| format!("ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã®ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼: {}", e))?;
    
    let compiled = JSONSchema::options()
        .with_draft(Draft::Draft7)
        .compile(&metaschema)
        .map_err(|e| format!("ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼: {}", e))?;
    
    // ã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã«å¯¾ã—ã¦æ¤œè¨¼
    match compiled.validate(schema) {
        Ok(_) => Ok(()),
        Err(errors) => {
            let error_messages: Vec<String> = errors
                .map(|err| format!("{}: {}", err.instance_path, err.to_string()))
                .collect();
            Err(error_messages.join("; "))
        }
    }
}
```

### 3.4 ErrorBadge.tsx æ‹¡å¼µ

```typescript
// ErrorBadge.tsxã®æ‹¡å¼µéƒ¨åˆ†

interface ErrorBadgeProps {
  errors: ValidationError[];
  type?: "frontmatter" | "schema" | "schemaValidation";
  onErrorClick?: (line: number) => void;
}

/**
 * ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—ã«åŸºã¥ã„ã¦ã‚¯ãƒ©ã‚¹ã‚’è¿”ã™é–¢æ•°
 * @param {ValidationError} error - æ¤œè¨¼ã‚¨ãƒ©ãƒ¼
 * @param {string} type - ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—
 * @returns {string} Tailwindã‚¯ãƒ©ã‚¹æ–‡å­—åˆ—
 */
const getErrorTypeClass = (error: ValidationError, type?: string) => {
  if (type === "schema" || error.message.includes("ã‚¹ã‚­ãƒ¼ãƒæ§‹æ–‡")) {
    return "bg-purple-100 border-purple-400 text-purple-700"; // ã‚¹ã‚­ãƒ¼ãƒæ§‹æ–‡ã‚¨ãƒ©ãƒ¼ï¼ˆç´«ï¼‰
  } else if (error.message.includes("ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼") || error.message.includes("Frontmatter")) {
    return "bg-red-100 border-red-400 text-red-700"; // ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼ï¼ˆèµ¤ï¼‰
  } else if (error.message.includes("ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼") || error.message.includes("Schema validation")) {
    return "bg-yellow-100 border-yellow-400 text-yellow-700"; // ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ã‚¨ãƒ©ãƒ¼ï¼ˆé»„ï¼‰
  }
  return "bg-red-100 border-red-400 text-red-700"; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆèµ¤ï¼‰
};

/**
 * ã‚¨ãƒ©ãƒ¼æ•°ã¨ç¨®é¡ã«åŸºã¥ã„ã¦ã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿”ã™é–¢æ•°
 */
const getErrorIcon = (errors: ValidationError[], type?: string) => {
  if (type === "schema") {
    return "ğŸ”®"; // ã‚¹ã‚­ãƒ¼ãƒã‚¨ãƒ©ãƒ¼ç”¨ã®ã‚¢ã‚¤ã‚³ãƒ³
  }

  // æ—¢å­˜ã®ã‚¨ãƒ©ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
  // ...
};
```

## 4. å…·ä½“çš„ãªæ‰‹é †

### 4.1 äº‹å‰æº–å‚™

1. é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ

   ```bash
   git checkout -b feature/s4-schema-tab
   ```

2. æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œç¢ºèª

   ```bash
   pnpm test
   ```

3. ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™
   - JSONã‚¹ã‚­ãƒ¼ãƒã®Draft-7ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
   - `packages/core-wasm/schemas/draft-07-schema.json`ã¨ã—ã¦ä¿å­˜

### 4.2 ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…

#### 4.2.1 EditorTabs.tsx ã®ä½œæˆ
1. `apps/web/src/components/EditorTabs.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
2. ã‚¿ãƒ–UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
3. ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…

#### 4.2.2 SchemaEditor.tsx ã®ä½œæˆ
1. `apps/web/src/components/SchemaEditor.tsx`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
2. CodeMirror YAMLç·¨é›†æ©Ÿèƒ½ã®å®Ÿè£…
3. ä¿å­˜ãƒœã‚¿ãƒ³ã¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®å®Ÿè£…

#### 4.2.3 ErrorBadge.tsx ã®æ‹¡å¼µ
1. ç´«ãƒãƒƒã‚¸è¡¨ç¤ºã®è¿½åŠ 
2. ã‚¹ã‚­ãƒ¼ãƒã‚¨ãƒ©ãƒ¼å°‚ç”¨ã‚¢ã‚¤ã‚³ãƒ³ã®è¿½åŠ 
3. ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—ã®åŒºåˆ¥æ©Ÿèƒ½å¼·åŒ–

### 4.3 Rust WASM ã‚³ã‚¢æ‹¡å¼µ

#### 4.3.1 schema_compile.rs ã®ä½œæˆ
1. `packages/core-wasm/src/schema_compile.rs`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
2. ã‚¹ã‚­ãƒ¼ãƒYAMLãƒ‘ãƒ¼ã‚¹æ©Ÿèƒ½ã®å®Ÿè£…
3. ãƒ¡ã‚¿ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼æ©Ÿèƒ½ã®å®Ÿè£…

#### 4.3.2 lib.rs ã®æ‹¡å¼µ
1. `schema_compile.rs`ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è¿½åŠ 
2. `compile_schema`é–¢æ•°ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

#### 4.3.3 WASMå†ãƒ“ãƒ«ãƒ‰
1. ã‚³ã‚¢æ©Ÿèƒ½ã®ãƒ“ãƒ«ãƒ‰

   ```bash
   cd packages/core-wasm && ./build.sh
   ```

### 4.4 ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰çµ±åˆ

#### 4.4.1 useYamlCore.ts ã®æ‹¡å¼µ
1. `compileSchema`é–¢æ•°ã®è¿½åŠ 
2. è¿”ã‚Šå€¤ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«è¿½åŠ 

#### 4.4.2 App.tsx ã®æ‹¡å¼µ
1. ã‚¿ãƒ–çŠ¶æ…‹ç®¡ç†ã®è¿½åŠ 
2. ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯ã®çµ±åˆ
3. ã‚¹ã‚­ãƒ¼ãƒãƒ­ãƒ¼ãƒ‰ãƒ»ä¿å­˜æ©Ÿèƒ½ã®è¿½åŠ 

### 4.5 ãƒ†ã‚¹ãƒˆå®Ÿè£…

#### 4.5.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ

```typescript
// EditorTabs.test.tsx
import { render, screen, fireEvent } from "@testing-library/react";
import { EditorTabs } from "../EditorTabs";

describe("EditorTabs", () => {
  test("ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã€ä¸¡æ–¹ã®ã‚¿ãƒ–ãŒæœ‰åŠ¹", () => {
    const handleTabChange = jest.fn();
    render(
      <EditorTabs currentSchemaPath="test.schema.yaml" onTabChange={handleTabChange} />
    );

    const noteTab = screen.getByText("Note.md");
    const schemaTab = screen.getByText("Schema.yaml");

    expect(noteTab).not.toBeDisabled();
    expect(schemaTab).not.toBeDisabled();

    fireEvent.click(schemaTab);
    expect(handleTabChange).toHaveBeenCalledWith("schema");
  });

  test("ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€ã‚¹ã‚­ãƒ¼ãƒã‚¿ãƒ–ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹", () => {
    const handleTabChange = jest.fn();
    render(<EditorTabs currentSchemaPath={null} onTabChange={handleTabChange} />);

    const schemaTab = screen.getByText(/Schema.yaml/);
    expect(schemaTab).toBeDisabled();
    expect(schemaTab).toHaveAttribute("title", "ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“");
  });
});
```

#### 4.5.2 Rust ãƒ†ã‚¹ãƒˆ

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_valid_schema() {
        let schema = r#"
            type: object
            properties:
              name:
                type: string
              age:
                type: integer
            required:
              - name
        "#;

        let result = compile_schema(schema);
        let parsed: ValidationResult = serde_json::from_str(&result).unwrap();
        assert!(parsed.success);
        assert!(parsed.errors.is_empty());
    }

    #[test]
    fn test_invalid_yaml_syntax() {
        let schema = r#"
            type: object
            properties:
              name: {
                type: string
              age:
                type: integer
            required:
              - name
        "#;

        let result = compile_schema(schema);
        let parsed: ValidationResult = serde_json::from_str(&result).unwrap();
        assert!(!parsed.success);
        assert!(!parsed.errors.is_empty());
        assert!(parsed.errors[0].message.contains("ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼"));
    }

    #[test]
    fn test_invalid_schema_semantics() {
        let schema = r#"
            type: not_a_valid_type
            properties:
              name:
                type: string
        "#;

        let result = compile_schema(schema);
        let parsed: ValidationResult = serde_json::from_str(&result).unwrap();
        assert!(!parsed.success);
        assert!(!parsed.errors.is_empty());
        assert!(parsed.errors[0].message.contains("JSONã‚¹ã‚­ãƒ¼ãƒã¨ã—ã¦ç„¡åŠ¹"));
    }
}
```

### 4.6 ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

- æœ‰åŠ¹ãªã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«: `sample/valid_schema.yaml`
- æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã®ã‚ã‚‹ã‚¹ã‚­ãƒ¼ãƒ: `sample/invalid_syntax_schema.yaml`
- è«–ç†ã‚¨ãƒ©ãƒ¼ã®ã‚ã‚‹ã‚¹ã‚­ãƒ¼ãƒ: `sample/invalid_logic_schema.yaml`

## 5. å®Œäº†æ¡ä»¶

ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã—ãŸæ™‚ç‚¹ã§S4ãƒ•ã‚§ãƒ¼ã‚ºã¯å®Œäº†ã¨ã—ã¾ã™ï¼š

1. **æ©Ÿèƒ½çš„æ¡ä»¶**
   - [x] EditorTabsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå®Ÿè£…ã•ã‚Œã€Note/Schemaã®åˆ‡ã‚Šæ›¿ãˆãŒå¯èƒ½
   - [x] SchemaEditorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå®Ÿè£…ã•ã‚Œã€YAMLã®ç·¨é›†ãŒå¯èƒ½
   - [x] ã‚¹ã‚­ãƒ¼ãƒæ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãŒç´«è‰²ã®ãƒãƒƒã‚¸ã§è¡¨ç¤ºã•ã‚Œã‚‹
   - [x] ã‚¹ã‚­ãƒ¼ãƒã®ä¿å­˜æ©Ÿèƒ½ï¼ˆCtrl+Sï¼‰ãŒæ©Ÿèƒ½ã™ã‚‹
   - [x] ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã«å¿œã˜ãŸå†…å®¹ã®ã¿ãŒä¿å­˜ã•ã‚Œã‚‹
   - [x] ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€Schemaã‚¿ãƒ–ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹

2. **ãƒ†ã‚¹ãƒˆæ¡ä»¶**
   - [x] EditorTabsã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
   - [x] SchemaEditorã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
   - [x] schema_compile.rsã®Rustãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
   - [x] ã‚¨ãƒ©ãƒ¼ãƒãƒƒã‚¸ã®ãƒ†ã‚¹ãƒˆãŒæ‹¡å¼µã•ã‚Œã€ç´«ãƒãƒƒã‚¸ã®ãƒ†ã‚¹ãƒˆã‚‚å«ã¾ã‚Œã‚‹

3. **ã‚³ãƒ¼ãƒ‰å“è³ªæ¡ä»¶**
   - [x] `pnpm lint`ã§è­¦å‘ŠãŒãªã„ã“ã¨
   - [x] `pnpm typecheck`ã§å‹ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨
   - [x] JSDocãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ¡ãƒ³ãƒˆãŒé©åˆ‡ã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ï¼ˆæ—¥æœ¬èªï¼‰
   - [x] Rustãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ¡ãƒ³ãƒˆãŒé©åˆ‡ã«è¨˜è¿°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ï¼ˆæ—¥æœ¬èªï¼‰

## 6. æ‰‹å‹•ãƒã‚§ãƒƒã‚¯é …ç›®

å®Ÿè£…å¾Œã€ä»¥ä¸‹ã®é …ç›®ã‚’æ‰‹å‹•ã§ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ï¼š

1. **ã‚¿ãƒ–æ©Ÿèƒ½**
   - [ ] Note/Schemaã‚¿ãƒ–ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹
   - [ ] ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆãŒæ­£å¸¸ã«æ©Ÿèƒ½ã™ã‚‹ã‹
   - [ ] ã‚¹ã‚­ãƒ¼ãƒãƒ‘ã‚¹ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã€Schemaã‚¿ãƒ–ãŒç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã‹

2. **ã‚¹ã‚­ãƒ¼ãƒç·¨é›†æ©Ÿèƒ½**
   - [ ] ã‚¹ã‚­ãƒ¼ãƒYAMLãŒã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã‚Œã¦è¡¨ç¤ºã•ã‚Œã‚‹ã‹
   - [ ] ç·¨é›†ãŒå¯èƒ½ã§ã€å¤‰æ›´ãŒä¿æŒã•ã‚Œã‚‹ã‹
   - [ ] Ctrl+Sã§ã‚¹ã‚­ãƒ¼ãƒãŒä¿å­˜ã•ã‚Œã‚‹ã‹
   - [ ] æœªä¿å­˜å¤‰æ›´ãŒã‚ã‚‹ã“ã¨ãŒè¦–è¦šçš„ã«ç¤ºã•ã‚Œã‚‹ã‹

3. **ã‚¨ãƒ©ãƒ¼è¡¨ç¤º**
   - [ ] YAMLã®æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã§ç´«ãƒãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹
   - [ ] JSONã‚¹ã‚­ãƒ¼ãƒã¨ã—ã¦ã®è«–ç†ã‚¨ãƒ©ãƒ¼ã§ç´«ãƒãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹
   - [ ] ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé©åˆ‡ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‹
   - [ ] ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨è©²å½“è¡Œã«ã‚¸ãƒ£ãƒ³ãƒ—ã™ã‚‹ã‹

4. **ä¿å­˜æ©Ÿèƒ½**
   - [ ] Noteã‚¿ãƒ–ã§ã®ä¿å­˜ãŒ.mdãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹ã‹
   - [ ] Schemaã‚¿ãƒ–ã§ã®ä¿å­˜ãŒ.schema.yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹ã‹
   - [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã§ç¢ºèªã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒæœŸå¾…é€šã‚Šä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‹

5. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - [ ] ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆãŒã‚¹ãƒ ãƒ¼ã‚ºã‹ï¼ˆä½“æ„Ÿé…å»¶ãªã—ï¼‰
   - [ ] ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ãŒ100msä»¥å†…ã«å®Œäº†ã™ã‚‹ã‹
   - [ ] å¤§ããªã‚¹ã‚­ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸå ´åˆã‚‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒç¶­æŒã•ã‚Œã‚‹ã‹